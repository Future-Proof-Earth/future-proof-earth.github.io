<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narrative Shift - Futureproof</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- React and ReactDOM -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Raleway', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #8948c9 100%);
            background-size: 150% 150%;
            animation: gradient 10s ease infinite;
            overflow-x: hidden;
            color: white;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .nav-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 1.5rem 2rem;
            background: rgba(255, 255, 255, 0);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            color: white;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-demo-container {
            display: flex;
            gap: 1rem;
        }

        .nav-demo-button {
            padding: 0.5rem 1rem;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 300;
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-demo-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .nav-demo-button.active {
            background: rgba(255, 255, 255, 0.2);
            font-weight: 400;
        }

        @media screen and (max-width: 768px) {
            .nav-container {
                padding: 1rem;
                flex-direction: column;
                gap: 1rem;
            }

            .nav-demo-container {
                width: 100%;
                justify-content: center;
            }

            /* .main-container {
                padding-top: 7rem !important;
            } */
        }

        .main-container {
            width: 100%;
            max-width: 1200px;
            padding: 2rem;
            margin: 0 auto;
        }

        .ideology-container {
            background: rgba(255, 255, 255, 0);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            /* padding: 2rem;
            margin: 2rem auto; */
        }

        .slider-container {
            margin: 2rem 0;
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        .article-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .article-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .article-subtitle {
            font-size: 1.2rem;
            font-weight: 300;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .article-text {
            font-size: 1.1rem;
            line-height: 1.6;
            font-weight: 300;
            margin-bottom: 1.5rem;
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-weight: 300;
        }

        .position-label {
            text-align: center;
            margin-top: 1rem;
            font-weight: 400;
        }

        .demo-header {
            text-align: center;
            margin-bottom: 2rem;
            margin-top: 6rem; /* Add space for fixed nav */
            padding: 0 2rem;
        }

        .demo-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .demo-description {
            font-size: 1.2rem;
            font-weight: 300;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        @media screen and (max-width: 768px) {
            .demo-title {
                font-size: 2rem;
            }
            
            .demo-description {
                font-size: 1rem;
                padding: 0 1rem;
            }
        }

        @media screen and (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }

            .ideology-container {
                padding: 1.5rem;
            }

            .article-container {
                padding: 1.5rem;
            }

            .article-title {
                font-size: 1.5rem;
            }

            .article-subtitle {
                font-size: 1rem;
            }

            .article-text {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <nav class="nav-container">
        <a href="/" class="nav-logo">Futureproof</a>
        <div class="nav-demo-container">
            <a href="/ideology-demo.html" class="nav-demo-button">Narrative Shift</a>
            <a href="/topic-breakdown-demo.html" class="nav-demo-button">Decision Explorer</a>
        </div>
    </nav>
    <div class="demo-header">
        <h1 class="demo-title">Narrative Shift</h1>
        <p class="demo-description">See how the same facts can be shaped into different narratives. Adjust the slider to reveal how media bias influences story presentation.</p>
    </div>
    <div class="main-container">
        <div id="ideology-adjuster-root"></div>
    </div>

    <script type="text/babel">
        const IdeologyAdjuster = () => {
            const [sliderValue, setSliderValue] = React.useState([0]);
            
            const sampleArticle = {
                original: {
                    title: "Economic Package Sparks National Debate",
                    subtitle: "New policies aim to address economic challenges",
                    paragraphs: [
                        "The government's newly announced economic package has generated significant discussion across the political spectrum. The comprehensive plan includes changes to corporate tax rates, social welfare programs, and infrastructure spending.",
                        "Central to the package is a proposed adjustment to corporate tax rates, currently standing at 25%. The plan would see rates shift to 22% for companies with annual revenues exceeding $50 million. Small businesses with revenues under $5 million would maintain their current rates.",
                        "The package also includes a $200 billion infrastructure investment over five years, focusing on transportation, renewable energy, and digital connectivity. Funding mechanisms include corporate revenue and adjusted capital gains taxation.",
                        "Social program modifications include changes to unemployment benefits and healthcare subsidies. The proposal suggests a restructuring of the current system, with new requirements for benefit eligibility and adjusted payment scales."
                    ]
                },
                versions: {
                    "-5": {
                        title: "Corporate Handout Disguised as Economic Reform",
                        subtitle: "Working class bears burden of pro-corporate agenda",
                        paragraphs: [
                            "In a brazen display of corporate favoritism, the government has unveiled a deeply problematic economic package that threatens to exacerbate inequality and burden working families. This regressive plan clearly prioritizes corporate profits over social welfare and economic justice.",
                            "The centerpiece of this corporate giveaway is an outrageous tax cut for big business, slashing their contribution from 25% to 22%. This massive handout to wealthy corporations comes at a time when working families are struggling to make ends meet. Small businesses are left behind with no meaningful support.",
                            "While claiming to invest in infrastructure, the $200 billion package is heavily skewed toward corporate interests and privatization schemes. The funding mechanism relies heavily on squeezing more revenue from working people while corporations enjoy their tax breaks.",
                            "Perhaps most alarming are the draconian changes to social programs, introducing punitive new barriers to accessing unemployment benefits and healthcare. These cruel reforms represent a direct assault on our most vulnerable citizens, while the wealthy elite enjoy ever-increasing privileges."
                        ]
                    },
                    "-4": {
                        title: "Corporate Power Grab Threatens Economic Justice",
                        subtitle: "Wealth redistribution favors corporate interests",
                        paragraphs: [
                            "The government has revealed an economic package that heavily favors corporate interests at the expense of working people. This misguided plan threatens to deepen inequality and undermine social protections for vulnerable communities.",
                            "At the heart of this problematic package is a significant tax reduction for large corporations, dropping from 25% to 22%. This generous corporate tax cut comes while working families continue to struggle with rising costs. Small businesses get virtually nothing.",
                            "The $200 billion infrastructure package, while substantial, appears designed to primarily benefit large corporations and their shareholders. The funding structure places an unfair burden on working people while giving corporations preferential treatment.",
                            "The concerning changes to social programs will create unnecessary obstacles for accessing essential services. These restrictive reforms risk leaving many vulnerable citizens without adequate support while corporate profits soar."
                        ]
                    },
                    "-3": {
                        title: "Economic Package Raises Equity Concerns",
                        subtitle: "Critics question impact on income inequality",
                        paragraphs: [
                            "The government's new economic package has drawn criticism from advocates concerned about its implications for social equity and economic justice. The plan's emphasis on corporate benefits has sparked debate about its impact on working families and income inequality.",
                            "The reduction in corporate tax rates from 25% to 22% for large companies has raised questions about tax fairness and revenue distribution. While small businesses receive no rate change, critics argue this creates an uneven playing field that favors large corporations.",
                            "Though the $200 billion infrastructure investment shows promise, concerns exist about its implementation and whether benefits will reach all communities equally. The funding structure's reliance on capital gains tax may disproportionately affect middle-class investors.",
                            "Proposed changes to social programs have alarmed advocacy groups, who warn that stricter eligibility requirements could leave vulnerable populations without crucial support. The restructuring of unemployment and healthcare benefits may create new barriers for those most in need."
                        ]
                    },
                    "-2": {
                        title: "Economic Plan Draws Mixed Reviews on Fairness",
                        subtitle: "Analysts debate social impact of proposed changes",
                        paragraphs: [
                            "The government's economic package has prompted discussions about its potential effects on different segments of society. The plan's approach to corporate taxation and social programs has generated particular attention from policy analysts.",
                            "The corporate tax reduction from 25% to 22% for large companies has sparked debate about revenue distribution and tax burden sharing. Some economists question whether small businesses should receive additional considerations.",
                            "While the $200 billion infrastructure investment represents a significant commitment, questions remain about the distribution of benefits across communities and income levels. The funding mechanism's reliance on capital gains has drawn scrutiny.",
                            "Changes to social programs have raised questions about access and support levels. The new eligibility requirements and benefit calculations will need careful monitoring to ensure they meet community needs."
                        ]
                    },
                    "-1": {
                        title: "Economic Reform Package Details Released",
                        subtitle: "Policy changes aim for balanced approach",
                        paragraphs: [
                            "The government has introduced its economic package, outlining various policy adjustments affecting taxation, infrastructure, and social programs. The comprehensive plan has generated significant discussion among stakeholders.",
                            "The proposed corporate tax adjustment would reduce rates from 25% to 22% for larger corporations, while maintaining current rates for small businesses. Economic projections suggest varied impacts across business sectors.",
                            "A major component includes $200 billion in infrastructure spending, allocated across transportation, energy, and digital sectors. The funding structure combines various revenue sources including corporate and capital gains taxes.",
                            "The social program reforms introduce updated criteria for benefits and services. New eligibility requirements and payment calculations aim to balance access with resource management."
                        ]
                    },
                    "0": {
                        title: "Government Announces Economic Policy Changes",
                        subtitle: "Package includes tax, infrastructure, and social program adjustments",
                        paragraphs: [
                            "The government has released details of its new economic policy package. The plan modifies corporate taxation, infrastructure spending, and social program administration.",
                            "Corporate tax rates will decrease from 25% to 22% for companies earning over $50 million annually. Companies earning under $5 million will maintain current rates. Treasury models project revenue impacts of -$30 billion in year one, offset by projected growth of 2.3%.",
                            "Infrastructure spending is set at $200 billion over five years. Allocation: Transportation (40%), Energy (30%), Digital Infrastructure (30%). Funding sources: Corporate revenue (45%), Capital gains tax (35%), Other sources (20%).",
                            "Social program modifications include: New unemployment benefit calculation formula based on [specific metrics]. Healthcare subsidy adjustments will follow [specific criteria]. Implementation timeline: Phase 1 - Q1 2024, Phase 2 - Q3 2024, Phase 3 - Q1 2025."
                        ]
                    },
                    "1": {
                        title: "Economic Package Promotes Market Solutions",
                        subtitle: "Business-friendly measures aim to drive growth",
                        paragraphs: [
                            "The government has unveiled an economic package that emphasizes market-driven solutions and business incentives. The plan seeks to balance growth initiatives with existing social programs.",
                            "A key feature is the reduction of corporate tax rates from 25% to 22% for larger businesses, intended to enhance competitiveness. Small business rates remain stable to maintain sector stability.",
                            "The substantial $200 billion infrastructure investment program focuses on modernization and efficiency. The funding approach leverages both public and private sector resources to maximize economic impact.",
                            "Updates to social programs introduce performance-based criteria and streamlined processes. The reforms aim to optimize resource allocation while maintaining essential support services."
                        ]
                    },
                    "2": {
                        title: "Progressive Economic Plan Targets Growth",
                        subtitle: "Business incentives meet infrastructure investment",
                        paragraphs: [
                            "A forward-thinking economic package has been announced by the government, combining business-friendly policies with strategic infrastructure investment. The plan shows promise for stimulating economic activity and job creation.",
                            "The welcome reduction in corporate tax rates from 25% to 22% for larger companies should encourage business expansion and investment. The stable rates for small businesses maintain important market balance.",
                            "An impressive $200 billion infrastructure commitment demonstrates serious dedication to economic development. This investment will create numerous opportunities for business growth and innovation.",
                            "Sensible reforms to social programs will improve efficiency while protecting essential services. The modernized approach encourages active participation in the workforce."
                        ]
                    },
                    "3": {
                        title: "Bold Economic Plan Promises Growth and Opportunity",
                        subtitle: "Market-driven approach aims to boost economy",
                        paragraphs: [
                            "A promising new economic package has been unveiled by the government, presenting a pragmatic approach to stimulating growth and creating opportunities across the economy. The comprehensive plan balances business incentives with strategic investments in our future.",
                            "The smart adjustment to corporate tax rates, reducing them from 25% to 22% for larger companies, will help unleash business potential and drive job creation. Small businesses are protected with stable rates, ensuring a balanced approach to growth.",
                            "A substantial $200 billion infrastructure investment demonstrates clear vision for the future, focusing on critical improvements that will enhance our competitive edge. This strategic deployment of resources will create jobs and drive innovation across sectors.",
                            "Thoughtful reforms to social programs will encourage self-reliance while maintaining support for those truly in need. The modernized approach to unemployment and healthcare benefits will promote workforce participation while ensuring responsible use of public resources."
                        ]
                    },
                    "4": {
                        title: "Market Liberation Plan Promises Prosperity",
                        subtitle: "Freedom-focused reforms to energize economy",
                        paragraphs: [
                            "In a victory for economic liberty, the government has introduced a bold package that will empower businesses and reward individual initiative. This forward-thinking plan promises to unlock tremendous economic potential.",
                            "The much-needed reduction of burdensome corporate taxes from 25% to 22% will free job creators to drive prosperity and growth. This pro-business approach maintains stability for small enterprises while unleashing larger companies.",
                            "A powerful $200 billion infrastructure program creates unprecedented opportunities for private sector excellence. This ambitious investment will transform our economic landscape through market-driven solutions.",
                            "Welcome reforms to social programs will promote personal responsibility and self-sufficiency. These changes restore the dignity of work while ensuring support reaches truly deserving recipients."
                        ]
                    },
                    "5": {
                        title: "Visionary Economic Freedom Plan Unleashed",
                        subtitle: "Pro-growth policies set to energize free market",
                        paragraphs: [
                            "In a triumph for economic freedom, the government has unveiled a bold package that will unleash the power of the free market and reward hard-working citizens. This visionary plan promises to liberate the economy from bureaucratic constraints and unleash unprecedented growth.",
                            "The long-overdue reduction in job-killing corporate taxes from 25% to 22% will finally unshackle job creators and entrepreneurs from excessive government burden. This pro-business reform will spark an explosion of economic activity and prosperity.",
                            "A massive $200 billion investment in critical infrastructure represents a historic opportunity for private sector innovation and development. This ambitious program will revolutionize our economic capabilities while creating countless opportunities for American businesses.",
                            "Revolutionary reforms to outdated social programs will finally encourage personal responsibility and self-reliance. These common-sense changes will end dependency culture and restore the dignity of work, while protecting those truly deserving of assistance."
                        ]
                    }
                }
            };

            const getCurrentText = () => {
                const value = sliderValue[0];
                return sampleArticle.versions[value.toString()] || sampleArticle.original;
            };

            const getIdeologyLabel = () => {
                const value = sliderValue[0];
                if (value === 0) return "Neutral";
                if (value <= -4) return "Far Left";
                if (value <= -2) return "Left";
                if (value >= 4) return "Far Right";
                if (value >= 2) return "Right";
                return "Center";
            };

            return (
                <div className="ideology-container">
                    <div className="slider-container">
                        <div className="slider-labels">
                            <span>Far Left</span>
                            <span>Neutral</span>
                            <span>Far Right</span>
                        </div>
                        <input 
                            type="range"
                            min={-5}
                            max={5}
                            step={1}
                            value={sliderValue[0]}
                            onChange={(e) => setSliderValue([parseInt(e.target.value)])}
                        />
                        <div className="position-label">
                            Current Position: {getIdeologyLabel()} ({sliderValue[0]})
                        </div>
                    </div>
                    
                    <div className="article-container">
                        <h2 className="article-title">{getCurrentText().title}</h2>
                        <h3 className="article-subtitle">{getCurrentText().subtitle}</h3>
                        {getCurrentText().paragraphs.map((paragraph, index) => (
                            <p key={index} className="article-text">
                                {paragraph}
                            </p>
                        ))}
                    </div>
                </div>
            );
        };

        ReactDOM.render(
            <IdeologyAdjuster />,
            document.getElementById('ideology-adjuster-root')
        );
    </script>
</body>
</html>